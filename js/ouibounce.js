!function(e,o){"function"==typeof define&&define.amd?define(o):"object"==typeof exports?module.exports=o(require,exports,module):e.ouibounce=o()}(this,function(e,o,i){return function(e,o){"use strict";function i(e,o){return void 0===e?o:e}function n(e){var o=24*e*60*60*1e3,i=new Date;return i.setTime(i.getTime()+o),"; expires="+i.toUTCString()}function t(e){e.clientY>l||(w=setTimeout(d,p))}function r(){w&&(clearTimeout(w),w=null)}function u(e){L||e.metaKey&&76===e.keyCode&&(L=!0,w=setTimeout(d,p))}function c(e,o){return a()[e]===o}function a(){for(var e=document.cookie.split("; "),o={},i=e.length-1;i>=0;i--){var n=e[i].split("=");o[n[0]]=n[1]}return o}function s(){return c(x,"true")&&!f}function d(){s()||(e&&(e.style.display="block"),y(),m())}function m(e){var o=e||{};void 0!==o.cookieExpire&&(E=n(o.cookieExpire)),!0===o.sitewide&&(T=";path=/"),void 0!==o.cookieDomain&&(b=";domain="+o.cookieDomain),void 0!==o.cookieName&&(x=o.cookieName),document.cookie=x+"=true"+E+b+T,D.removeEventListener("mouseleave",t),D.removeEventListener("mouseenter",r),D.removeEventListener("keydown",u)}var v=o||{},f=v.aggressive||!1,l=i(v.sensitivity,20),k=i(v.timer,1e3),p=i(v.delay,0),y=v.callback||function(){},E=n(v.cookieExpire)||"",b=v.cookieDomain?";domain="+v.cookieDomain:"",x=v.cookieName?v.cookieName:"viewedOuibounceModal",T=!0===v.sitewide?";path=/":"",w=null,D=document.documentElement;setTimeout(function(){s()||(D.addEventListener("mouseleave",t),D.addEventListener("mouseenter",r),D.addEventListener("keydown",u))},k);var L=!1;return{fire:d,disable:m,isDisabled:s}}});